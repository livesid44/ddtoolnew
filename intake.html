<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="BPO Process Discovery Platform - New Intake">
    <title>New Intake - BPO AI Platform</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="bpo-platform.css">
    <link rel="stylesheet" href="bootstrap-icons.css">
    <link rel="stylesheet" href="professional-enhancements.css">
</head>
<body class="intake-page">

    <!-- Header with Navigation -->
    <header class="platform-header">
        <div class="header-container">
            <div class="logo">
                <img src="images/aura.png" alt="AURA" style="height: 35px; width: auto;">
            </div>
            <nav class="main-nav">
                <ul>
                    <li><a href="dashboard.html">Home</a></li>
                    <li><a href="workflow.html">Workflow</a></li>
                    <li><a href="dashboard.html">Dashboard</a></li>
                    <li><a href="admin.html">Admin</a></li>
                    <li><a href="#settings">Settings</a></li>
                </ul>
            </nav>
            <div class="user-menu">
                <span class="user-name">John Doe</span>
                <button onclick="location.href='login.html'" class="btn btn-sm" style="background: #e31837; border-color: #e31837;">Logout</button>
            </div>
        </div>
    </header>

    <!-- Active Intake Banner -->
    <div class="active-intake-banner" id="intakeIdBanner" style="display:none;">
        <i class="bi bi-hash"></i>
        <span>Active Intake:</span>
        <strong id="intakeIdDisplay">—</strong>
        <span class="intake-status-pill">In Progress</span>
    </div>

    <div class="platform-layout">
        <!-- Sidebar -->
        <aside class="platform-sidebar">
            <h3>Quick Links</h3>
            <nav class="sidebar-nav">
                <a href="intake.html" class="sidebar-link active">
                    <span class="icon"><i class="bi bi-chat-dots"></i></span>
                    <span>New Intake</span>
                </a>
                <a href="workflow.html" class="sidebar-link">
                    <span class="icon"><i class="bi bi-diagram-3"></i></span>
                    <span>Workflow Engine</span>
                </a>
                <a href="upload.html" class="sidebar-link">
                    <span class="icon"><i class="bi bi-cloud-upload"></i></span>
                    <span>Upload Files</span>
                </a>
                <a href="analysis.html" class="sidebar-link">
                    <span class="icon"><i class="bi bi-cpu"></i></span>
                    <span>AI Analysis</span>
                </a>
                <a href="kanban.html" class="sidebar-link">
                    <span class="icon"><i class="bi bi-kanban"></i></span>
                    <span>Kanban Board</span>
                </a>
                <a href="admin.html" class="sidebar-link">
                    <span class="icon"><i class="bi bi-gear"></i></span>
                    <span>Admin Config</span>
                </a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="platform-main intake-main">

            <!-- ===== Start Screen ===== -->
            <div id="startScreen" class="intake-start-screen">
                <div class="start-hero">
                    <div class="start-hero-icon">
                        <i class="bi bi-chat-square-dots-fill"></i>
                    </div>
                    <h1>Start a New Process Intake</h1>
                    <p>Our AI assistant will guide you through a quick intake conversation to capture all essential information about your business process. Each intake receives a unique ID — all uploads, analyses and workflow activities are automatically tracked against it.</p>
                    <button id="startIntakeBtn" class="btn btn-primary btn-lg start-btn">
                        <i class="bi bi-play-circle-fill"></i> Begin Intake
                    </button>

                    <div class="intake-steps-preview">
                        <h3>What we'll capture in this intake:</h3>
                        <div class="preview-steps">
                            <div class="preview-step">
                                <span class="step-num">1</span>
                                <span>Process Name &amp; Description</span>
                            </div>
                            <div class="preview-step">
                                <span class="step-num">2</span>
                                <span>Ownership &amp; Business Unit</span>
                            </div>
                            <div class="preview-step">
                                <span class="step-num">3</span>
                                <span>Process Classification</span>
                            </div>
                            <div class="preview-step">
                                <span class="step-num">4</span>
                                <span>Document Upload</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Previous Intakes -->
                <div class="previous-intakes-panel">
                    <h3><i class="bi bi-clock-history"></i> Recent Intakes</h3>
                    <div id="existingIntakesList" class="intakes-list">
                        <!-- Populated by intake.js -->
                    </div>
                </div>
            </div>

            <!-- ===== Chat Area ===== -->
            <div id="chatArea" class="intake-chat-area" style="display:none;">

                <!-- Progress -->
                <div class="intake-progress-bar">
                    <div class="progress-track">
                        <div class="progress-fill" id="chatProgress" style="width:0%"></div>
                    </div>
                    <span class="progress-label" id="progressLabel">Step 1 of 6</span>
                </div>

                <!-- Message thread -->
                <div class="chat-messages" id="chatMessages">
                    <!-- Messages injected by intake.js -->
                </div>

                <!-- Dynamic input area -->
                <div class="chat-input-area" id="inputArea">
                    <!-- Injected by intake.js -->
                </div>
            </div>

        </main>
    </div>

    <script src="script.js"></script>
    <script src="bpo-platform.js"></script>
    <script src="intake.js"></script>
</body>
</html>
